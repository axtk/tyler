(function(){var a={fire(e,f){return this.interceptionCallback&&this.interceptionCallback(e,f),this.listeners.forEach(g=>{g.event===e&&g.handler.call(g.context,e,f)}),this},on(e,f,g){return e instanceof Array?e.forEach(h=>this.on(h,f,g)):this.listeners.push({event:e,handler:f,context:g}),this},off(e,f,g){for(var h=this.listeners.length-1;0<=h;h--){let j=this.listeners[h].event===e&&(!f||this.listeners[h].handler===f)&&(!g||this.listeners[h].context===g);j&&this.listeners.splice(h,1)}return this},intercept(e){return this.interceptionCallback=e,this},gc(){for(var e=this.listeners.length-1;0<=e;e--){let f=this.listeners[e].context;f&&f.node&&null===f.node.parentNode&&this.listeners.splice(e,1)}},listeners:[]},b=function(e){Object.assign(this,e||{})};Object.assign(b.prototype,{fire(e,f){return a.fire(e,f),this},on(e,f){return a.on(e,f,this),this},off(e,f){return a.off(e,f,this),this}});var c=e=>new DOMParser().parseFromString(e,'text/html').body.childNodes;window.tyler={Observer:b,Service:b,createElement:e=>{var f=function(g){b.call(this,e),this.node='string'==typeof g?c(g)[0]:g,f.initialHandlers.forEach(h=>this.on(h.event,h.handler))};return f.prototype=Object.create(b.prototype),f.initialHandlers=[],f.on=(g,h)=>{return f.initialHandlers.push({event:g,handler:h}),f},f},dispatcher:a,toDOM:c}})();