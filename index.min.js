(function(){if(!window.tyler){const a='tyler/';var b={fire(g,h){return this.interceptionCallback&&this.interceptionCallback(g,h),window.dispatchEvent(new CustomEvent(a+g,{detail:h})),this},on(g,h,j){return g instanceof Array?g.forEach(k=>this.on(k,h,j))||this:(window.addEventListener(a+g,this.registerHandler(g,h,j)),this)},off(g,h,j){return this.discardHandlers(g,h,j).forEach(k=>{window.removeEventListener(a+g,k)}),this},registerHandler(g,h,j){var k=l=>h.call(j||this,g,l.detail);return this.handlers.push({event:g,original:h,modified:k,context:j}),k},discardHandlers(g,h,j){var l,k=[];for(let m=this.handlers.length-1;0<=m;m--)l=this.handlers[m].event===g&&(!h||this.handlers[m].original===h)&&(!j||this.handlers[m].context===j),l&&k.push(this.handlers.splice(m,1)[0].modified);return k},intercept(g){return this.interceptionCallback=g,this},handlers:[]},c=function(g){Object.assign(this,g||{})};Object.assign(c.prototype,{fire(g,h){return b.fire(g,Object.assign({source:this},h)),this},on(g,h){return b.on(g,h,this),this},off(g,h){return b.off(g,h,this),this}});var d=g=>new DOMParser().parseFromString(g,'text/html').body.childNodes,f=g=>{var h=function(j){c.call(this,g),this.node='string'==typeof j?d(j)[0]:j,h.initialHandlers.forEach(k=>this.on(k.event,k.handler))};return h.prototype=Object.create(c.prototype),h.initialHandlers=[],h.on=(j,k)=>{return h.initialHandlers.push({event:j,handler:k}),h},h};window.tyler={Observer:c,Service:c,createElement:f,dispatcher:b,toDOM:d}}})();